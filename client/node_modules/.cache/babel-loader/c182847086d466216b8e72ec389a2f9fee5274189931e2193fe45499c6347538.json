{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  if (!formData.name || !formData.email) {\n    setError(\"Please fill in all fields\");\n    return;\n  }\n  try {\n    const res = await fetch(\"http://localhost:5000/api/user/editprofile\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        ...formData,\n        id: user._id\n      }),\n      // Pass user ID here\n      credentials: \"include\" // Include session in the request\n    });\n    const data = await res.json();\n    if (res.ok) {\n      setSuccess(\"Account details updated successfully!\");\n      setError(\"\");\n      setTimeout(() => {\n        // Don't change the user state here, just navigate\n        navigate(\"/chatApp\"); // After updating, navigate to the chat app\n      }, 1000);\n    } else {\n      setError(data.message || \"Edit failed. Try again.\");\n    }\n  } catch (error) {\n    console.error(\"Error:\", error);\n    setError(\"Something went wrong. Please try again.\");\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","formData","name","email","setError","res","fetch","method","headers","body","JSON","stringify","id","user","_id","credentials","data","json","ok","setSuccess","setTimeout","navigate","message","error","console"],"sources":["C:/Users/aslam/OneDrive/Desktop/MT/client/src/userAccount/editProfile/editProfile.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  if (!formData.name || !formData.email) {\r\n    setError(\"Please fill in all fields\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(\"http://localhost:5000/api/user/editprofile\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ ...formData, id: user._id }), // Pass user ID here\r\n      credentials: \"include\", // Include session in the request\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      setSuccess(\"Account details updated successfully!\");\r\n      setError(\"\");\r\n      setTimeout(() => {\r\n        // Don't change the user state here, just navigate\r\n        navigate(\"/chatApp\"); // After updating, navigate to the chat app\r\n      }, 1000);\r\n    } else {\r\n      setError(data.message || \"Edit failed. Try again.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error:\", error);\r\n    setError(\"Something went wrong. Please try again.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI,CAACC,QAAQ,CAACC,IAAI,IAAI,CAACD,QAAQ,CAACE,KAAK,EAAE;IACrCC,QAAQ,CAAC,2BAA2B,CAAC;IACrC;EACF;EAEA,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,4CAA4C,EAAE;MACpEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAE,GAAGV,QAAQ;QAAEW,EAAE,EAAEC,IAAI,CAACC;MAAI,CAAC,CAAC;MAAE;MACrDC,WAAW,EAAE,SAAS,CAAE;IAC1B,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,CAAC;IAC7B,IAAIZ,GAAG,CAACa,EAAE,EAAE;MACVC,UAAU,CAAC,uCAAuC,CAAC;MACnDf,QAAQ,CAAC,EAAE,CAAC;MACZgB,UAAU,CAAC,MAAM;QACf;QACAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM;MACLjB,QAAQ,CAACY,IAAI,CAACM,OAAO,IAAI,yBAAyB,CAAC;IACrD;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9BnB,QAAQ,CAAC,yCAAyC,CAAC;EACrD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}